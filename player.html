


        < !DOCTYPE html >
        <html lang="es">
            <head>
                <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Reproductor de Audio</title>
                        <style>
                            body {
                                display: flex;
                            justify-content: center;
                            align-items: center;
                            height: 100vh;
                            margin: 0;
        }
                        </style>
                    </head>
            <body>
                <img src="./img/playersound.png" alt="Descripci�n de la imagen">
                <audio id="audioPlayer" loop></audio> <!-- Elemento de audio que reproduce en bucle -->

                <script>
                    const tracks = {
                        camino: ['sonidosambientes/camino1.mp3', 'sonidosambientes/camino2.mp3', 'sonidosambientes/camino3.mp3'],
                        guerra: ['sonidosambientes/guerra1.mp3', 'sonidosambientes/guerra2.mp3', 'sonidosambientes/guerra3.mp3'
                            , 'sonidosambientes/guerra4.mp3', 'sonidosambientes/guerra5.mp3', 'sonidosambientes/guerra6.mp3'
                            , 'sonidosambientes/guerra7.mp3'],
                        mazmorra: ['sonidosambientes/mazmorra1.mp3', 'sonidosambientes/mazmorra2.mp3']
                    };
                    const audioPlayer = document.getElementById('audioPlayer');

                    // Escuchar mensajes de `menu.html`
                    window.addEventListener('message', (event) => {
                        const { action, trackType } = event.data;

                        if (action === 'play' && trackType) {
                            playRandomTrack(trackType);
                        } else if (action === 'stop') {
                            stopTrack();
                        }
                    });

                    function playRandomTrack(type) {
                        if (!tracks[type]) return;

                        stopTrack(); // Detener cualquier reproducción en curso
                        const trackList = tracks[type];
                        const randomTrack = trackList[Math.floor(Math.random() * trackList.length)];
                        audioPlayer.src = randomTrack;

                        audioPlayer.load();
                        audioPlayer.play().catch(error => {
                            console.log("Error en la reproducción:", error);
                        });
                    }

                    function stopTrack() {
                        audioPlayer.pause();
                        audioPlayer.currentTime = 0;
                        audioPlayer.src = "";
                    }
                </script>
            </body>
</html>